// -----------------------------------------------------------------
//	CONTRACT: TheHorrorinClay - The University of Kambridge - The University of Kambridge - Investigate ancient tablets
//	Author: Caerfinon 
//	Credits:
//			- ColdJ - for the creation of the Kraken idol model 
// -----------------------------------------------------------------
CONTRACT_TYPE
{
//CONTRACT DESCRIPTION
	sortKey = TCOK01
	name = TCOK01-TheHorrorinClay
	title = The Horror in Clay
	group = The University of Kambridge
	agent = The University of Kambridge
	description = Prof. Legrasse Kerman at the University of Kambridge has recently discovered ancient tablets on a dig in the badlands that relate to the Legend of Kerthulhu. He believes that they actually lead to clues about the location hidden sites with evidence proving the Legend to be fact. Send a team to Kambridge to evaluate the claims. 
	genericDescription = Visit Kambridge and investigate the tablets relating to the Kerthulhu legend
	synopsis = Visit the University of Kambridge and examine the ancient tablets
	completedMessage = The University of Kambridge&br;&br;You have seen the tablets. I think they tell a story that needs to be looked at in more depth.&br;&br;Join me in discovering the locations refered to on these tablets. I need your assistance in locating them &br;&br;- Prof. Legrasse Kerman  

//Contract Limits
	maxCompletions = 1
	maxSimultaneous = 1
	autoAccept = false
	declinable = true
	cancellable = true
	minExpiry = 0.0
	maxExpiry = 0.0
	deadline = 0

//Contract Reward Modifiers
	prestige = Trivial
	targetBody = Kerbin
	
//Contract Rewards
	advanceFunds = (@/rewardFunds * 0.25 )
	rewardFunds = 30000
	rewardReputation = 15
	rewardScience = 100

//Contract Penalties
	failureFunds = (@/rewardFunds * 1.15) * Random(1.0, 1.25)
	failureReputation = 10
	
// -----------------------------------------------------------------	
// REQUIREMENTS FOR CONTRACT TO APPEAR
// -----------------------------------------------------------------	

// Ability to Scan for anomalies needs to be unlocked 
REQUIREMENT
{
    name = TechResearched
    type = TechResearched
	partModule = ModuleKerbNetAccess
}

// -----------------------------------------------------------------	
//DATA NODES TO PROCESS FOR CONTRACT USE
// -----------------------------------------------------------------


// -----------------------------------------------------------------
//BEHAVIOURS TO DO WHEN CREATING CONTRACT
// -----------------------------------------------------------------
//
	
// Locations to search for
					 
	BEHAVIOUR
	{
		name = WaypointGenerator
		type = WaypointGenerator
		
		WAYPOINT
		{
			name = @TCOK:siteFullName.ElementAt(0)
			icon = ContractPacks/TheCallofKerthulhu/Assets/Icons/University
			altitude = 0
			latitude = @TCOK:siteLAT.ElementAt(0)
			longitude = @TCOK:siteLON.ElementAt(0)
		}
		WAYPOINT
		{
			name = @TCOK:siteFullName.ElementAt(1)
			icon = ContractPacks/TheCallofKerthulhu/Assets/Icons/Tablet
			altitude = 0
			latitude = @TCOK:tabletLAT.ElementAt(1)
			longitude = @TCOK:tabletLON.ElementAt(1)
			parameter = VisitSite0
		}
		WAYPOINT
		{
			name = @TCOK:siteFullName.ElementAt(2)
			icon = ContractPacks/TheCallofKerthulhu/Assets/Icons/Tablet
			altitude = 0
			latitude = @TCOK:tabletLAT.ElementAt(2)
			longitude = @TCOK:tabletLON.ElementAt(2)
			parameter = VisitSite1
		}
		WAYPOINT
		{
			name = @TCOK:siteFullName.ElementAt(3)
			icon = ContractPacks/TheCallofKerthulhu/Assets/Icons/Tablet
			altitude = 0
			latitude = @TCOK:tabletLAT.ElementAt(3)
			longitude = @TCOK:tabletLON.ElementAt(3)
			parameter = VisitSite2
		}
		WAYPOINT
		{
			name = @TCOK:siteFullName.ElementAt(4)
			icon = ContractPacks/TheCallofKerthulhu/Assets/Icons/Tablet
			altitude = 0
			latitude = @TCOK:tabletLAT.ElementAt(4)
			longitude = @TCOK:tabletLON.ElementAt(4)
			parameter = VisitSite3
		}
		WAYPOINT
		{
			name = @TCOK:siteFullName.ElementAt(5)
			icon = ContractPacks/TheCallofKerthulhu/Assets/Icons/Tablet
			altitude = 0
			latitude = @TCOK:tabletLAT.ElementAt(5)
			longitude = @TCOK:tabletLON.ElementAt(5)
			parameter = VisitSite4
		}
		WAYPOINT
		{
			name = @TCOK:siteFullName.ElementAt(6)
			icon = ContractPacks/TheCallofKerthulhu/Assets/Icons/Tablet
			altitude = 0
			latitude = @TCOK:tabletLAT.ElementAt(6)
			longitude = @TCOK:tabletLON.ElementAt(6)
			parameter = VisitSite5
		}
	} 	

//------------------------------------------------------------------------
// Site related dialoga	
//------------------------------------------------------------------------
// Site1 	
	BEHAVIOUR
	{
		name = DialogBox
		type = DialogBox

		DIALOG_BOX
		{
			condition = PARAMETER_COMPLETED
			parameter = VisitSite0
			
			position = CENTER
			
			TEXT
			{
				text = VisitSite0 dialog
				fontSize = 20
				textColor = #BADA55
			}
			
			IMAGE
			{
				url = ContractPacks/TheCallofKerthulhu/Assets/Characters/Legrasse
				characterName = Professor Legrasse Kerman
			}
		}

		DIALOG_BOX
		{
			condition = PARAMETER_COMPLETED
			parameter = VisitSite1
			
			position = CENTER
			
			TEXT
			{
				text = VisitSite1 dialog
				fontSize = 20
				textColor = #BADA55
			}
			
			IMAGE
			{
				url = ContractPacks/TheCallofKerthulhu/Assets/Characters/Legrasse
				characterName = Professor Legrasse Kerman
			}
		}


// Site2 	

		DIALOG_BOX
		{
			condition = PARAMETER_COMPLETED
			parameter = VisitSite2
			
			position = CENTER
			
			TEXT
			{
				text = VisitSite2 dialog
				fontSize = 20
				textColor = #BADA55
			}
			
			IMAGE
			{
				url = ContractPacks/TheCallofKerthulhu/Assets/Characters/Legrasse
				characterName = Professor Legrasse Kerman
			}
		}


// Site3 	
		DIALOG_BOX
		{
			condition = PARAMETER_COMPLETED
			parameter = VisitSite3
			
			position = CENTER
			
			TEXT
			{
				text = VisitSite3 dialog
				fontSize = 20
				textColor = #BADA55
			}
			
			IMAGE
			{
				url = ContractPacks/TheCallofKerthulhu/Assets/Characters/Legrasse
				characterName = Professor Legrasse Kerman
			}
		}


// Site4 	
		DIALOG_BOX
		{
			condition = PARAMETER_COMPLETED
			parameter = VisitSite4
			
			position = CENTER
			
			TEXT
			{
				text = VisitSite4 dialog
				fontSize = 20
				textColor = #BADA55
			}
			
			IMAGE
			{
				url = ContractPacks/TheCallofKerthulhu/Assets/Characters/Legrasse
				characterName = Professor Legrasse Kerman
			}
		}

		
// Site5 	
		DIALOG_BOX
		{
			condition = PARAMETER_COMPLETED
			parameter = VisitSite5
			
			position = CENTER
			
			TEXT
			{
				text = VisitSite5 dialog
				fontSize = 20
				textColor = #BADA55
			}
			
			IMAGE
			{
				url = ContractPacks/TheCallofKerthulhu/Assets/Characters/Legrasse
				characterName = Professor Legrasse Kerman
			}
		}

	
// Site6

		DIALOG_BOX
		{
			condition = PARAMETER_COMPLETED
			parameter = VisitSite6
			
			position = CENTER
			
			TEXT
			{
				text = VisitSite6 dialog
				fontSize = 20
				textColor = #BADA55
			}
			
			IMAGE
			{
				url = ContractPacks/TheCallofKerthulhu/Assets/Characters/Legrasse
				characterName = Professor Legrasse Kerman
			}
		}

//------------------------------------------------------------------------
// Mission completed dialog	
//------------------------------------------------------------------------		
		DIALOG_BOX
		{
			condition = PARAMETER_COMPLETED
			parameter = MissionAccomplished
			
			position = CENTER	

			TEXT
			{
				text = Absolutely brilliant work!    
				textColor = #BADA55
			}
			IMAGE
			{
				url = ContractPacks/TheCallofKerthulhu/Assets/Characters/Legrasse
				characterName = Professor Legrasse Kerman
			}
		}
	
//------------------------------------------------------------------------
// Mission accepted dialog	
//------------------------------------------------------------------------		
		DIALOG_BOX
		{
			condition = CONTRACT_ACCEPTED
			
			position = CENTER	

			IMAGE
			{
				url = ContractPacks/TheCallofKerthulhu/Assets/Dialogs/TCOK01-Dialogs/Page_1
			}
		}
	}


// -----------------------------------------------------------------
//PARAMETERS FOR CONTRACT COMPLETION
// -----------------------------------------------------------------

// Site0
	PARAMETER
	{
		name = VisitSite1
		type = VisitWaypoint
		title = Travel to The Universtiy of Kambridge
		index = 0
		distance = 10
		hideOnCompletion = false
		disableOnStateChange = true
		hideChildren = true
		completeInSequence = true

	}

//Site1
	PARAMETER
	{
		name = VisitSite1
		type = VisitWaypoint
		title = Read the @TCOK:siteFullName.ElementAt(1) tablet
		index = 1
		distance = 10
		hideOnCompletion = false
		disableOnStateChange = true
		hideChildren = true
		completeInSequence = true

	}


//Site2

	PARAMETER
	{
		name = VisitSite2
		type = VisitWaypoint
		title = Read the @TCOK:siteFullName.ElementAt(2) tablet
		index = 2
		distance = 10
		hideOnCompletion = false
		disableOnStateChange = true
		hideChildren = true
		completeInSequence = true

	}
	
//Site3

	PARAMETER
	{
		name = VisitSite3
		type = VisitWaypoint
		title = Read the @TCOK:siteFullName.ElementAt(3) tablet
		index = 3
		distance = 10
		hideOnCompletion = false
		disableOnStateChange = true
		hideChildren = true
		completeInSequence = true

	}
	
//Site4

	PARAMETER
	{
		name = VisitSite4
		type = VisitWaypoint
		title = Read the @TCOK:siteFullName.ElementAt(4) tablet
		index = 4
		distance = 10
		hideOnCompletion = false
		disableOnStateChange = true
		hideChildren = true
		hidden = true
		completeInSequence = true

	}

//Site5

	PARAMETER
	{
		name = VisitSite5
		type = VisitWaypoint
		title = Read the @TCOK:siteFullName.ElementAt(5) tablet
		index = 5
		distance = 10
		hideOnCompletion = false
		disableOnStateChange = true
		hideChildren = true
		completeInSequence = true

	}
	
//Site6

	PARAMETER
	{
		name = VisitSite6
		type = VisitWaypoint
		title = Read the @TCOK:siteFullName.ElementAt(6) tablet
		index = 6
		distance = 10
		hideOnCompletion = false
		disableOnStateChange = true
		hideChildren = true  
		completeInSequence = true
		
	}
	
	PARAMETER
	{
		name = MissionAccomplished
		type = All
		title = You've eaxamined all the evidence.
		
		PARAMETER
		{
			name = Duration
			type = Duration
			hidden = true
			duration = 5s
			preWaitText = Wait
			waitingText = Waiting:
			completionText = Complete
			startCriteria = PARAMETER_COMPLETION
			parameter = VisitSite6
		}
	}
	
// -----------------------------------------------------------------
// END OF CONTRACT
// -----------------------------------------------------------------
}



	



	